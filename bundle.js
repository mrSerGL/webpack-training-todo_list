(()=>{"use strict";const t={save:function(t,e){try{var n=JSON.stringify(e);localStorage.setItem(t,n)}catch(t){console.error("Set state error: ",t.message)}},load:function(t){try{var e=localStorage.getItem(t);return null===e?void 0:JSON.parse(e)}catch(t){console.error("Get state error: ",t.message)}}};let e=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce(((t,e)=>t+((e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_")),"");function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return(e=l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,l(i.key),i)}}function l(t){var e=function(t,e){if("object"!==n(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,"string");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===n(e)?e:String(e)}function c(t,e){h(t,e),e.add(t)}function u(t,e,n){h(t,e),e.set(t,n)}function h(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function f(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function p(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,d(t,e,"get"))}function d(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var y=new WeakMap,b=new WeakMap,m=new WeakMap,v=new WeakMap,w=new WeakMap,g=new WeakSet,S=new WeakSet,O=new WeakSet,_=new WeakSet,j=new WeakSet,k=new WeakSet,E=new WeakSet,W=new WeakSet,I=new WeakSet;function P(){p(this,v).app=document.querySelector(".todo-list"),p(this,v).app&&(p(this,v).addItemBtn=p(this,v).app.querySelector(".header__button"),p(this,v).itemInput=p(this,v).app.querySelector(".header__input"),p(this,v).currentList=p(this,v).app.querySelector(".current-list"),p(this,v).doneList=p(this,v).app.querySelector(".done-list"),p(this,v).listContainer=document.querySelector(".list-container"))}function T(){p(this,v).addItemBtn.addEventListener("click",f(this,_,M).bind(this)),p(this,v).listContainer.addEventListener("click",f(this,k,q).bind(this)),p(this,v).itemInput.addEventListener("keypress",f(this,j,A).bind(this))}function L(e){var n,i;i=e,function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(n=this,d(n,w,"set"),i),f(this,I,H).call(this),t.save(p(this,y),e)}function M(){var t,n=p(this,v).itemInput.value;if(n){var i=function(t){if(Array.isArray(t))return o(t)}(t=p(this,w))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();i.push({id:e(),value:n,done:!1}),f(this,O,L).call(this,i)}p(this,v).itemInput.value=null}function A(t){t.code===p(this,b)&&f(this,_,M).call(this)}function q(t){var e=t.target.closest(".list__item[data-id]");e&&("remove"===t.target.dataset.action&&f(this,E,C).call(this,e.dataset.id),"toggle"===t.target.dataset.action&&f(this,W,D).call(this,e.dataset.id))}function C(t){var e=p(this,w).filter((function(e){return e.id!==t}));f(this,O,L).call(this,e)}function D(t){var e=p(this,w).map((function(e){return t===e.id?r(r({},e),{},{done:!e.done}):e}));f(this,O,L).call(this,e)}function H(){var t=function(t){var e=t.id,n=t.value,i=t.done;return'\n     <li class="list__item" data-id="'.concat(e,'" data-done="').concat(i,'">\n        <span class="list__item-name">').concat(n,'</span>\n        <div class="list__buttons">\n          <i class="list__button remove fa fa-trash-o" data-action="remove"></i>\n          <span class="list__bar">|</span>\n          <i \n            class="',"list__button fa ".concat(i?"uncomplete fa-check-circle":"complete fa-check-circle-o"),'"\n            data-action="toggle"\n          ></i>\n        </div>\n     </li>\n    ')},e=p(this,w).filter((function(t){return!t.done})),n=p(this,w).filter((function(t){return t.done}));p(this,v).currentList.innerHTML=e.map(t).join(""),p(this,v).doneList.innerHTML=n.map(t).join("")}(new(function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,I),c(this,W),c(this,E),c(this,k),c(this,j),c(this,_),c(this,O),c(this,S),c(this,g),u(this,y,{writable:!0,value:"TODO_LIST_ITEMS"}),u(this,b,{writable:!0,value:"Enter"}),u(this,m,{writable:!0,value:'\n    <div class="todo-list">\n      <header class="header">\n        <input class="header__input" type="text" placeholder="Enter an activity..">\n        <button type="button" class="header__button"><i class="fa fa-plus"></i></button>\n      </header>\n      <main class="list-container">\n        <ul class="list current-list"></ul>\n        <hr>\n        <ul class="list done-list"></ul>\n      </main>\n      <\/script>\n    </div>\n  '}),u(this,v,{writable:!0,value:{}}),u(this,w,{writable:!0,value:t.load(p(this,y))||[]})}var n,i;return n=e,(i=[{key:"init",value:function(t){(t||document.body).innerHTML=p(this,m),f(this,g,P).call(this),f(this,S,T).call(this),f(this,I,H).call(this)}}])&&s(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),e}())).init()})();